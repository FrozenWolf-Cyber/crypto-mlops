# PersistentVolume for shared storage
apiVersion: v1
kind: PersistentVolume
metadata:
  name: shared-pv
spec:
  capacity:
    storage: 70Gi
  accessModes:
    - ReadWriteMany
  hostPath:
    path: /mnt/shared   # make sure this folder exists on VM
    type: DirectoryOrCreate
  persistentVolumeReclaimPolicy: Retain
---
# PersistentVolumeClaim for shared storage
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: shared-pvc
  namespace: platform
spec:
  accessModes:
    - ReadWriteMany
  resources:
    requests:
      storage: 60Gi
  volumeName: shared-pv   # explicitly bind to PV
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: kafka-pvc
  namespace: platform
spec:
  accessModes:
    - ReadWriteMany
  resources:
    requests:
      storage: 10Gi
  volumeName: shared-pv